<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Works – Examine / Diagnose</title>
  <style>
    :root{
      --bg:#f7f7f7;
      --text:#1b1b1b;
      --muted:#6b7280;
      --accent:#66bb6a;      /* green tag */
      --accent-2:#f3e8ff;    /* dotted area hint */
      --orange:#f59e0b;      /* step 1 */
      --grey:#d1d5db;        /* step 2 */
      --device:#0f1115;      /* tablet body */
      --device-gloss:#1b1e23;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      display:grid; place-items:center; padding:24px;
    }
    .stage{ width:min(1200px, 96vw); background:white; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.08); display:grid; grid-template-columns: 320px 1fr; overflow:hidden }

    /* LEFT PANE */
    .left{ background:#fff; padding:28px 24px; position:relative; display:flex; flex-direction:column; justify-content:center; /* adjusted up slightly via child transform */ }
    .person{ display:flex; align-items:center; gap:14px; margin-bottom:18px; margin-left:14px; position:relative; top:-50px; padding:0; border:none; border-radius:0; background:transparent }
    .avatar{ width:62px; height:62px; border-radius:0; border:2px solid #e5e7eb; display:grid; place-items:center; background:#fff }
    .avatar img{ width:100%; height:100%; object-fit:cover; border-radius:0 }
    .name{ font-weight:700; font-size:20px }
    .tag{ margin-top:8px; display:inline-block; background: #d7f2dd; color:#0f5132; border-radius:10px; padding:6px 10px; font-weight:600; font-size:14px }

    .rail{ position:relative; left:40px; top:-70px; margin-top:16px; transform:none !important; }
    .rail .group{ border-left:none; padding-left:24px; margin-left:0; position:relative }
    /* extend the existing dashed rail slightly above and below */
    .rail .group::before{ content:none; }
    /* extend the vertical dotted rail slightly above and below the steps */
    .rail .group::before{ content:""; position:absolute; left:8px; top:-18px; bottom:-18px; width:0; border-left:3px dashed #cbd5e1; }
    /* per-step dot aligned to the rail */
    .rail .step{ position:relative; }
    .rail .step::before{ content:none !important; display:none !important; width:0 !important; height:0 !important; border:none !important; background:transparent !important; box-shadow:none !important; }
    /* connector from dot to the chip/button */
    .rail .step{ position:relative; }
    /* branch connector from the dashed rail to each chip */
    .rail .step{ position:relative; }
    /* dotted branch from the main rail to each chip */
    .rail .step{ position:relative; }
    /* dotted branch from the main rail to each chip */
    .rail .step::after{ content:""; position:absolute; left:-12px; top:50%; transform:translateY(-50%); width:12px; height:0; border-top:3px dashed #cbd5e1; background:transparent !important; }
    .rail .group{ border-left:3px dashed #cbd5e1; padding-left:16px; margin-left:0; }
    .rail .chip{ width: 160px; text-align:left; padding:12px 14px; border-radius:10px; font-weight:700; cursor:pointer; user-select:none; border:2px dashed #e5e7eb; color:#6b7280; background:#fafafa; transition:transform .08s ease, box-shadow .15s ease; margin-left:0; }
    .rail .group{ border-left:3px dashed #cbd5e1; padding-left:16px; margin-left:0; }
    .rail .chip{ width: 160px; text-align:left; padding:12px 14px; border-radius:10px; font-weight:700; cursor:pointer; user-select:none; border:2px dashed #e5e7eb; color:#6b7280; background:#fafafa; transition:transform .08s ease, box-shadow .15s ease; margin-left:0; }
    .rail .group .step + .step{ margin-top:30px; }
    .step{ display:flex; align-items:center; justify-content:space-between; gap:14px; margin:10px 0; }
    .chip{
      width: 160px; text-align:left; padding:12px 14px; border-radius:10px; font-weight:700; cursor:pointer; user-select:none;
      border:2px dashed #e5e7eb; color:#6b7280; background:#fafafa;
      transition:transform .08s ease, box-shadow .15s ease;
    }
    .chip:hover{ transform:translateY(-1px); box-shadow:0 6px 12px rgba(0,0,0,.06) }
    .chip.active{ color:#7c2d12; background:#fff7ed; border-color:#fdba74; box-shadow:0 6px 14px rgba(245, 158, 11, .25) }
    .chip.active::before{ content:""; display:inline-block; width:10px; height:10px; border-radius:2px; background:var(--orange); margin-right:8px }
    .chip.grey{ background:#f3f4f6; color:#6b7280; border-color:#e5e7eb }

    .handbook{ position:absolute; bottom:24px; left:24px; display:flex; align-items:center; gap:10px; color:#1f2937; cursor:pointer }
    .handbook svg{ width:34px; height:34px }
    .person::before{ content:""; position:absolute; left:-28px; top:-24px; bottom:-24px; border-left:3px dashed #cbd5e1; }
    .person::after{ content:""; position:absolute; left:-28px; top:50%; transform:translateY(-50%); width:28px; height:0; border-top:3px dashed #cbd5e1; }

    .handbook span{ text-decoration:underline; }

    /* RIGHT – TABLET */
    .left > :not(.handbook){ transform: translateY(-82%); }

    
    /* Slight responsive tweak so alignment stays near the toolbar line on small screens */
    @media (max-width: 900px){
      .left > :not(.handbook){ transform: translateY(-28%); }
    }

    .right{ background:linear-gradient(180deg, #fbfbfb, #f1f5f9); padding:24px; display:grid; place-items:center }

    .tablet{ position:relative; width:min(820px, 78vw); aspect-ratio: 4/3; border-radius:28px; background:var(--device); box-shadow:0 18px 40px rgba(0,0,0,.25); padding:26px }
    .tablet::after{ content:""; position:absolute; inset:10px; border-radius:22px; pointer-events:none; box-shadow: inset 0 0 0 2px rgba(255,255,255,.08) }
    .camera{ position:absolute; top:10px; left:50%; transform:translateX(-50%); width:16px; height:16px; background:#0b0d11; border-radius:50%; box-shadow:0 0 0 4px var(--device) }
    .button{ position:absolute; bottom:12px; left:50%; transform:translateX(-50%); width:110px; height:20px; border-radius:12px; background:#0b0d11; box-shadow: inset 0 0 0 2px #1f2937 }

    .screen{ position:absolute; inset:26px; border-radius:18px; background:#fff; overflow:hidden; display:grid; place-items:center }

    /* Simulated browser + slide */
    .chrome{ width:100%; height:100%; background:#e5e7eb; display:grid; grid-template-rows: 38px 44px 1fr }
    /* TABS BAR (Chrome-like) */
    .tabsbar{ position:relative; background:#e7ebf0; display:flex; align-items:flex-end; gap:6px; padding:0 8px; border-bottom:1px solid #cfd6dd; height:40px }
    .c-tab{ position:relative; display:flex; align-items:center; gap:8px; height:32px; padding:0 14px; min-width:130px; cursor:pointer; color:#27313b;
      background:linear-gradient(#f8fafc,#eef2f6); border:1px solid #cfd6dd; border-bottom:none; border-top-left-radius:9px; border-top-right-radius:9px;
      box-shadow:inset 0 1px 0 #ffffff; z-index:1 }
    .c-tab:first-child{}
    .c-tab:not(.active){ opacity:.95 }
    .c-tab.active{ background:#ffffff; z-index:3; box-shadow:0 -1px 0 #ffffff }
    /* create the merged borders between tabs */
    .c-tab::after{ content:none }
    .c-tab::before{ content:none }
    .c-tab.active::after,.c-tab.active::before{ border-bottom-color:#ffffff }
    .c-fav{ width:14px; height:14px; border-radius:3px; background:#94a3b8 }
    .c-title{ font-size:12.5px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
    .c-close{ margin-left:6px; width:16px; height:16px; border-radius:50%; display:grid; place-items:center; font-size:12px; line-height:1; color:#475569 }
    .c-close:hover{ background:#e2e8f0 }
    .c-plus{ margin-left:6px; width:26px; height:22px; border-radius:8px; display:grid; place-items:center; border:1px solid #cfd6dd; background:#f3f5f8 }

    /* TOOLBAR */
    .toolbar{ display:flex; align-items:center; gap:10px; padding:6px 10px; background:#f5f7fa; border-bottom:1px solid #cfd6dd }
    .btn{ width:28px; height:28px; border-radius:50%; display:grid; place-items:center; border:1px solid #dde3ea; background:#fff; color:#4b5563 }
    .omnibox{ flex:1; height:30px; border-radius:16px; background:#fff; border:1px solid #cfd6dd; display:flex; align-items:center; gap:8px; padding:0 10px; box-shadow:inset 0 1px 0 #f8fafc }
    .lock{ width:12px; height:12px; border-radius:2px; background:#16a34a }
    .url{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:12.5px; color:#111827; opacity:.6 }
    .star{ width:18px; height:18px; border-radius:50%; border:1px solid #e2e8f0; display:grid; place-items:center }
    .avatar-dot{ width:20px; height:20px; border-radius:50%; background:#60a5fa }

    /* PAGE AREA */
    .page{ background:#ffffff; width:100%; height:100%; position:relative }
    .panel{ position:absolute; inset:0; display:none; align-items:center; justify-content:center; font-size:18px; color:#64748b; padding:16px; background:#ffffff }
    .panel.active{ display:flex }
    .panel img{ max-width:100%; max-height:100%; width:auto; height:auto; object-fit:contain; border:1px solid #e5e7eb; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,.06) }
    .panel.active{ display:flex }

    .deck{ position:relative; display:grid; place-items:center; padding:18px }
    .slide{
      width:min(640px, 92%); aspect-ratio: 16/10; background:#fff; border:1px solid #e5e7eb; border-radius:4px; box-shadow:0 4px 12px rgba(0,0,0,.08); padding:32px
    }
    .title{ font-size:28px; font-weight:700; margin-bottom:24px }
    .refline{ line-height:1.6; font-size:16px }
    .refline a{ color:#2563eb; word-break:break-all }

    /* Modal */
    .modal{ position:fixed; inset:0; background:rgba(3,6,16,.5); display:none; place-items:center; padding:20px }
    .modal.open{ display:grid }
    .modal .card{ width:min(720px, 96vw); background:white; border-radius:16px; padding:20px; box-shadow:0 20px 50px rgba(0,0,0,.25) }
    .modal h2{ margin:4px 0 12px; font-size:22px }
    .modal p{ color:#374151 }
    .close{ float:right; border:0; background:#111827; color:white; padding:8px 12px; border-radius:10px; cursor:pointer }

    .footer{ position:absolute; bottom:10px; right:10px; font-size:12px; color:#6b7280 }
      /* --- OVERRIDES TO REMOVE THE TALL VERTICAL DOTTED LINE --- */
    .rail .group{ border-left:0 !important; }
    .rail .group::before{ content:none !important; display:none !important; border:0 !important; }
      /* Re-introduce a taller vertical dotted rail that connects to branches */
    .rail .group{ position:relative; padding-left:24px; }
    .rail .group::before{ content:"" !important; display:block !important; position:absolute; left:12px; top:-40px; bottom:-40px; border-left:3px dashed #cbd5e1 !important; }
      /* Undo avatar dotted square + connectors */
    .person::before, .person::after{ content:none !important; display:none !important; }
  </style>
</head>
<body>
  <div class="stage">
    <!-- LEFT COLUMN -->
    <aside class="left">
      <div class="person">
        <div class="avatar" aria-hidden="false">
          <img src="https://raw.githubusercontent.com/ik3057823-ops/images-5/refs/heads/main/alisher.png" alt="Alisher Jurayev" />
        </div>
        <div>
          <div class="name">Alisher Jurayev</div>
          <div class="tag">Works No: 1 of 2</div>
        </div>
      </div>

      <div class="rail">
        <div class="group">
          <div class="step">
            <div id="step1" class="chip active">1. Examine</div>
          </div>
          <div class="step">
            <div id="step2" class="chip grey">2. Diagnose</div>
          </div>
        </div>
      </div>

      <div id="openHandbook" class="handbook" role="button" tabindex="0" aria-label="Open the Handbook">
        <svg viewBox="0 0 24 24" fill="none" stroke="#111827" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M3 6a3 3 0 0 1 3-3h12v18H6a3 3 0 0 0-3 3V6z" fill="#e5e7eb"/>
          <path d="M6 3h12v14H6a3 3 0 0 0-3 3V6a3 3 0 0 1 3-3z"/>
          <path d="M9 7h6M9 11h6"/>
        </svg>
        <span>Open the Handbook</span>
      </div>
    </aside>

    <!-- RIGHT COLUMN / TABLET MOCK -->
    <section class="right">
      <div class="tablet" aria-label="Tablet">
        <div class="camera" aria-hidden="true"></div>
        <div class="button" aria-hidden="true"></div>
        <div class="screen">
          <div class="chrome">
            <div class="tabsbar" role="tablist" aria-label="Browser Tabs">
              <div id="tab-ref" class="c-tab active" role="tab" aria-selected="true" tabindex="0"><span class="c-fav" aria-hidden="true"></span><span class="c-title">Reference</span><span class="c-close" aria-hidden="true">×</span></div>
              <div id="tab-slide" class="c-tab" role="tab" aria-selected="false" tabindex="-1"><span class="c-fav" aria-hidden="true"></span><span class="c-title">Slide</span><span class="c-close" aria-hidden="true">×</span></div>
              <div id="tab-source" class="c-tab" role="tab" aria-selected="false" tabindex="-1"><span class="c-fav" aria-hidden="true"></span><span class="c-title">Source</span><span class="c-close" aria-hidden="true">×</span></div>
              <div class="c-plus" aria-hidden="true">+</div>
            </div>
            <div class="toolbar">
              <div class="btn" title="Back" aria-hidden="true">←</div>
              <div class="btn" title="Forward" aria-hidden="true">→</div>
              <div class="btn" title="Reload" aria-hidden="true">⟳</div>
              <div class="omnibox" role="search">
                <span class="lock" aria-hidden="true"></span>
                <span class="url">https://</span><span id="urlPath" class="url">reference</span>
              </div>
              <div class="star" aria-hidden="true">☆</div>
              <div class="avatar-dot" aria-hidden="true"></div>
            </div>
            <div class="page">
              <div id="panel-ref" class="panel active" role="tabpanel" aria-labelledby="tab-ref">
                <img alt="Reference" src="https://raw.githubusercontent.com/ik3057823-ops/images-5/refs/heads/main/Reference.png" />
              </div>
              <div id="panel-slide" class="panel" role="tabpanel" aria-labelledby="tab-slide">
                <img alt="Slide" src="https://raw.githubusercontent.com/ik3057823-ops/images-5/refs/heads/main/Slide.png" />
              </div>
              <div id="panel-source" class="panel" role="tabpanel" aria-labelledby="tab-source">
                <img alt="Source" src="https://raw.githubusercontent.com/ik3057823-ops/images-5/refs/heads/main/source.png" />
              </div>
            </div>
          </div>
        </div>
        <div class="footer">62%</div>
      </div>
    </section>
  </div>

  <!-- Handbook Modal -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="card">
      <button class="close" id="closeModal" aria-label="Close">Close</button>
      <h2>Handbook</h2>
      <p>
        This simulation matches the layout in your screenshot. Use the step chips on the left to toggle the current phase.
        The tablet on the right shows a mocked "Reference" slide.
      </p>
      <ul>
        <li><strong>1. Examine</strong> – highlighted in orange.</li>
        <li><strong>2. Diagnose</strong> – greyed until you click it.</li>
      </ul>
    </div>
  </div>

  <script>
    const s1 = document.getElementById('step1');
    const s2 = document.getElementById('step2');
    const modal = document.getElementById('modal');
    const open = document.getElementById('openHandbook');
    const close = document.getElementById('closeModal');

    function activate(el){
      [s1,s2].forEach(c=>c.classList.remove('active'));
      el.classList.add('active');
      if(el===s2){ s2.classList.remove('grey'); s1.classList.add('grey'); } else { s1.classList.remove('grey'); s2.classList.add('grey'); }
    }
    s1.addEventListener('click',()=>activate(s1));
    s2.addEventListener('click',()=>activate(s2));

    function toggleModal(opening){
      modal.classList.toggle('open', opening);
      modal.setAttribute('aria-hidden', String(!opening));
    }
    open.addEventListener('click',()=>toggleModal(true));
    open.addEventListener('keydown',(e)=>{ if(e.key==='Enter' || e.key===' ') toggleModal(true); });
    close.addEventListener('click',()=>toggleModal(false));
    modal.addEventListener('click',(e)=>{ if(e.target===modal) toggleModal(false); });
    </script>
  <script>
    // Tabs inside the Chrome mock
    document.addEventListener('DOMContentLoaded', function(){
      const tRef = document.getElementById('tab-ref');
      const tSlide = document.getElementById('tab-slide');
      const tSource = document.getElementById('tab-source');
      const pRef = document.getElementById('panel-ref');
      const pSlide = document.getElementById('panel-slide');
      const pSource = document.getElementById('panel-source');
      const allTabs = [tRef, tSlide, tSource];
      const allPanels = [pRef, pSlide, pSource];

      function setActiveTab(idx){
        const urlParts = ['reference','slide','source'];
        allTabs.forEach((el,i)=>{
          const on = i===idx;
          el.classList.toggle('active', on);
          el.setAttribute('aria-selected', on?'true':'false');
          el.tabIndex = on? 0 : -1;
          allPanels[i].classList.toggle('active', on);
        });
        const up = document.getElementById('urlPath');
        if(up){ up.textContent = urlParts[idx]; }
      }
      window.__setActiveTab = setActiveTab;

      allTabs.forEach((el,idx)=>{
        el.addEventListener('click', ()=> setActiveTab(idx));
        el.addEventListener('keydown', e=>{
          if(e.key==='Enter' || e.key===' '){ e.preventDefault(); setActiveTab(idx); }
          if(e.key==='ArrowRight'){ e.preventDefault(); setActiveTab((idx+1)%allTabs.length); allTabs[(idx+1)%allTabs.length].focus(); }
          if(e.key==='ArrowLeft'){ e.preventDefault(); setActiveTab((idx-1+allTabs.length)%allTabs.length); allTabs[(idx-1+allTabs.length)%allTabs.length].focus(); }
          if(e.key==='Home'){ e.preventDefault(); setActiveTab(0); allTabs[0].focus(); }
          if(e.key==='End'){ e.preventDefault(); setActiveTab(allTabs.length-1); allTabs[allTabs.length-1].focus(); }
        });
      });
    });
  </script>
</body>
</html>
